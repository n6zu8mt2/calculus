<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>折り紙を折って月まで行こう！</title>
    <link rel="stylesheet" href="style.css">
    <script>
    // MathJaxのグローバル設定
    MathJax = {
        tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
        },
        svg: {
        fontCache: 'global'
        }
    };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
</head>
<body>
    <div id="wrapper">
        <div id="sidebar-placeholder" data-root-path="../"></div>
        <header>
            <h1>折り紙を折って月まで行こう！</h1>
            <p>〜指数関数的増加シミュレーター〜</p>
        </header>

        <div class="back-link">
            <a href="../index.html">← トップページに戻る</a>
        </div>
        <main>
            <section id="intro">
                <h2>たった1枚の紙を折りたたむだけで、宇宙の果てまで届く…？</h2>
                <p>ごく普通の厚さ0.1mmの紙。これを何度も折りたたんでいくと、その厚さは驚くべきスピードで増えていきます。一体、何回折れば月に到達するのでしょうか？その驚異的な瞬間を体験してみましょう。</p>
                <div class="conditions">
                    <h3>前提条件</h3>
                    <ul>
                        <li><strong>紙の厚さ:</strong> 0.1 mm ($1.0 \times 10^{-4}$ m)</li>
                        <li><strong>月までの距離:</strong> 380,000 km ($3.8 \times 10^8$ m)</li>
                        <li><strong>ルール:</strong> 1回折るごとに、厚さはきっかり2倍になる。</li>
                    </ul>
                </div>
            </section>

            <section id="simulation">
                <h2>シミュレーション開始！</h2>
                <div id="paper-visual">
                    <div id="folded-paper"></div>
                </div>
                <div id="controls">
                    <button id="foldButton">紙を1回折る</button>
                    <button id="resetButton">リセット</button>
                </div>
                <div id="result">
                    <p>折った回数: <span id="folds">0</span> 回</p>
                    <p>現在の厚さ: <span id="thickness">0.1 mm</span></p>
                    <div id="comparison">
                        <h3>これは、およそ…</h3>
                        <div id="scale-container">
                            <img id="scale-image" src="images/paper.png" alt="折り紙">
                            <p id="scale-text">折り紙1枚ぶん</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="conclusion" class="hidden">
                <h2>月に到達しました！</h2>
                <p class="final-answer">紙を <span id="final-folds"></span> 回折ると、厚さが月までの距離を超えました！</p>
                <div id="final-details">
                    <p>最終的な厚さ: <span id="final-thickness"></span></p>
                </div>
            </section>

            <section id="explanation">
                <h2>なぜこうなるの？計算の仕組み 👨‍🏫</h2>
                <p>最初はミリメートル単位の小さな増加が、なぜ天文学的な距離にまで達するのでしょうか。その秘密は「指数関数」にあります。</p>
                <ol>
                    <li>紙の厚さが月までの距離を超える瞬間を探します。<br>
                       $$(最初の厚さ) \times 2^{(折る回数)} \geqq (月までの距離)$$
                    </li>
                    <li>折る回数を $n$ 回とし、単位をメートル(m)に揃えて式を立てます。<br>
                       $$1.0 \times 10^{-4} \times 2^n \geqq 3.8 \times 10^8$$
                    </li>
                    <li>この不等式を解いて、必要な回数 $n$ を求めます。<br>
                       $$2^n \geqq 3.8 \times 10^{12}$$
                       両辺の常用対数（$\log_{10}$）をとると、<br>
                       $$\log_{10}(2^n) \geqq \log_{10}(3.8 \times 10^{12})$$
                       $$n \times \log_{10}(2) \geqq \log_{10}(3.8) + \log_{10}(10^{12})$$
                       ここで $\log_{10}(2) \approx 0.3010$, $\log_{10}(3.8) \approx 0.5798$ なので、<br>
                       $$0.3010n \geqq 0.5798 + 12$$
                       $$0.3010n \geqq 12.5798$$
                       $$n \geqq \frac{12.5798}{0.3010} \approx 41.79$$
                    </li>
                    <li>$n$ は折る回数なので整数です。したがって、不等式を満たす最小の整数は42回となります。</li>
                </ol>
                <p>たった42回折るだけで、紙の厚さは月までの距離を越えてしまうのです。これが指数関数的な増加の驚くべき力です。</p>
            </section>
        </main>
        <footer>
            <p>&copy; 2025 指数関数シミュレーター</p>
        </footer>
    </div>
    <script src="script.js"></script>
    <script src="../sidebar.js"></script>
</body>
</html>